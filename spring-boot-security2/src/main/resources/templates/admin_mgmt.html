<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/ClientSide/Thymeleaf.html to edit this template
-->
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Admin | Management</title>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}" href="../static/css/bootstrap.min.css"/>
        <link rel="stylesheet" th:href="@{/css/dropdown.css}" href="../static/css/dropdown.css"/>
        <link rel="stylesheet" th:href="@{/css/layout.css}" href="../static/css/layout.css"/>     
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"/>
        <style>
            .table thead tr th{
                vertical-align: middle;
                text-align: center;
            }
            .table tbody tr td{
                vertical-align: middle;
                text-align: center;
            }
        </style>
    </head>    
    <body>
        <div th:replace="fragments/navbar::top-navbar"></div>

        <div class="application-main">
            <div th:replace="fragments/navbar::side-navbar"></div>
            <div class="main-content">
                <h3>User Management</h3>
                <div class="dropdown-divider"></div>
                <div style="margin-top: 20px;">
                    <h4>Expired account</h4>
                    <table class="table table-bordered" th:if="${!expiredList.empty}">
                        <thead>
                            <tr>
                                <th>Photo</th>
                                <th>Name</th>   
                                <th>Contract</th>
                                <th>Role</th>
                                <th>Notification</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="exuser : ${expiredList}">
                                <td style="width: 100px;">
                                    <img th:if="${exuser.photo != 'profile.png'}" alt="photo" src="" th:src="@{/img/profile_icon.jpg}" style="width: 100px"/>
                                    <img th:if="${exuser.photo == 'profile.png'}" alt="photo" src="" th:src="@{${n.photoURI()}}" style="width: 100px"/>                                    
                                </td>
                                <td>                                   
                                    <span th:text="${exuser.username}">Username</span>
                                </td>
                                <td>
                                    <span th:text="${exuser.phone}">Contract</span>
                                </td>
                                <td>
                                    <span th:text="${exuser.getRole()}">Position</span>
                                </td>
                                <td th:with="msg=${exuser.messageMap.get('ACCOUNT_EXPIRED_MSG')}" style="text-align: left">
                                    
                                    <span>Message: [[${msg.message}]]</span><br/>
                                    <span>Addresser: [[${msg.addresser}]]</span><br/>
                                    <span th:text="'Expiration date: '+${#dates.format(msg.createdOn, 'yyyy-MM-dd HH:mm:ss')}"></span><br/>
                                    
                                </td>
                                <td>
                                    <a>
                                        Revert
                                    </a>
                                    <br/>
                                    <a>
                                        delete
                                    </a>
                                </td>
                            </tr>            
                        </tbody>
                    </table>

                </div>
                
                <div>
                    <a>
                        <button>add delete user</button>
                    </a>
                </div>
                
                <div th:if="${expiredList.empty}">no account expired</div>
            </div>
        </div>


        <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
        <script th:src="@{/js/bootstrap.min.js}" src="../static/js/bootstrap.min.js"></script>    
        <script th:src="@{/js/navbar-toggle.js}"></script>
    </body>
</html>
